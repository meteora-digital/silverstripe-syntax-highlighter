{
    "comments": {
        "blockComment": ["<%--", "--%>"]
    },
    "brackets": [
        ["{", "}"],
        ["(", ")"],
        ["<%--", "--%>"]
    ],
    "autoClosingPairs": [
        ["{", "}"],
        ["[", "]"],
        ["(", ")"],
        ["\"", "\""],
        ["'", "'"],
        { "open": "<%--", "close": "--%>", "notIn": [ "comment", "string" ]}
    ],
    "surroundingPairs": [
        ["{", "}"],
        ["[", "]"],
        ["(", ")"],
        ["\"", "\""],
        ["'", "'"],
        ["<", ">"]
    ],
    "embeddedLanguages": {
        "script": "javascript",
        "style": "css"
    },
    "onEnterRules": [
        {
            "beforeText": "^\\s*<([a-zA-Z][\\w\\-]*)[^>]*>\\s*$",
            "afterText": "^\\s*</[a-zA-Z][\\w\\-]*>\\s*$",
            "action": {
                "indent": "indentOutdent",
            }
        },
        {
            "beforeText": "^\\s*<%\\s*(if|loop|with|else_if|else|cached)\\b(?!.*<%\\s*end_).*%>\\s*$",
            "afterText": "^\\s*<%\\s*(end_\\w+|else(?:_\\w+)?)(\\s+.*)?%>\\s*$",
            "action": {
                "indent": "indentOutdent"
            }
        },
    ],
    "indentationRules": {
        "increaseIndentPattern": "^\\s*(<%\\s*(if|loop|with|else_if|else|cached)\\b(?!.*<%\\s*end_).*%>|<(?!\\/)(?!img|input|br|hr|meta|link|area|base|col|embed|param|source|track|wbr)[a-zA-Z][\\w\\-]*(?:[^>]*<%.*%>[^>]*)*[^>]*?(?<!\\/)>\\s*|.*\\{\\s*)$",
        "decreaseIndentPattern": "^\\s*(<%\\s*(end_(if|loop|with|cached)|else(?:_if)?)\\s*%>|<\\/([a-zA-Z][\\w\\-]*)\\s*>\\s*|\\}\\s*(\\)\\s*(;|,)?\\s*)?(\\s*\\(\\)\\s*;?)?|(?<!^\\s*<%--)\\s*.*--%>\\s*$)",
    }
}
